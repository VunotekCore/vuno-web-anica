---
const menuServices = {
  mediosVisuales: {
    title: "Medios Visuales",
    href: "https://ik.imagekit.io/IV7VRclcnk/services-menu/BtnMediosVisuales.svg?updatedAt=1768317730994",
  },
  diseno3d: {
    title: "Diseño 3D",
    href: "https://ik.imagekit.io/IV7VRclcnk/services-menu/BtnDisenoGrafico.svg?updatedAt=1768317730618",
  },
  webProgramacion: {
    title: "Web & Programación",
    href: "https://ik.imagekit.io/IV7VRclcnk/services-menu/BtnWeb.svg?updatedAt=1768317730035",
  },
  mueblesComerciales: {
    title: "Muebles Comerciales",
    href: "https://ik.imagekit.io/IV7VRclcnk/services-menu/BtnMueblesComerciales.svg?updatedAt=1768317728640",
  },
};
---

<nav class="w-full py-2">
  <div
    class="max-w-screen-xl mx-auto px-4 flex items-center justify-between gap-2"
  >
    <!-- Logo -->
    <div class="flex-shrink-0">
      <a href="/" class="flex items-center">
        <svg class="h-12 md:h-28" viewBox="0 0 992.13 425.2" aria-hidden="true">
          <use xlink:href="/assets/sprite.svg#anica-logo"></use>
        </svg>
      </a>
    </div>

    <!-- Nav menu (Desktop) -->
    <ul
      class="hidden lg:flex items-center gap-4 xl:gap-8 text-lg xl:text-xl font-medium font-lobster"
    >
      <li>
        <a href="/#quienes-somos" class="hover:text-primary transition"
          >Quienes Somos</a
        >
      </li>
      <li>
        <a href="/#mision" class="hover:text-primary transition">Misión</a>
      </li>
      <li>
        <a href="/#vision" class="hover:text-primary transition">Visión</a>
      </li>
      <li>
        <a href="/#valores" class="hover:text-primary transition">Valores</a>
      </li>
    </ul>

    <!-- Services Row + Mobile Menu -->
    <div class="flex items-center gap-2">
      <!-- Cards (Desktop only) -->
      <div class="hidden md:flex items-center gap-2 lg:gap-3">
        <!-- Card 1: Medios Visuales -->
        <a
          href="/servicios/medios-visuales"
          class="flex flex-col items-center text-center relative hover:scale-105 transition-transform"
        >
          <div class="relative">
            <img
              src={menuServices.mediosVisuales.href}
              class="w-20 h-20 lg:w-26 lg:h-26"
              alt="Medios Visuales"
            />
            <p
              class="absolute inset-0 flex items-center justify-center text-[14px] font-medium leading-tight font-lobster text-white pointer-events-none"
            >
              Medios<br />Visuales
            </p>
          </div>
        </a>

        <!-- Card 2: Diseño 3D -->
        <a
          href="/servicios/diseno-3d"
          class="flex flex-col items-center text-center relative hover:scale-105 transition-transform"
        >
          <div class="relative">
            <img
              src={menuServices.diseno3d.href}
              class="w-20 h-20 lg:w-26 lg:h-26"
              alt="Diseño 3D"
            />
            <p
              class="absolute inset-0 flex items-center justify-center text-[14px] font-medium leading-tight font-lobster text-white pointer-events-none"
            >
              Diseño<br />3D
            </p>
          </div>
        </a>

        <!-- Card 3: Web & Programación -->
        <a
          href="/servicios/web-programacion"
          class="flex flex-col items-center text-center relative hover:scale-105 transition-transform"
        >
          <div class="relative">
            <img
              src={menuServices.webProgramacion.href}
              class="w-20 h-20 lg:w-26 lg:h-26"
              alt="Web & Programación"
            />
            <p
              class="absolute inset-0 flex items-center justify-center text-[14px] font-medium leading-tight font-lobster text-white pointer-events-none"
            >
              Web &<br />Programación
            </p>
          </div>
        </a>

        <!-- Card 4: Muebles Comerciales -->
        <a
          href="/servicios/muebles-comerciales"
          class="flex flex-col items-center text-center relative hover:scale-105 transition-transform"
        >
          <div class="relative">
            <img
              src={menuServices.mueblesComerciales.href}
              class="w-20 h-20 lg:w-26 lg:h-26"
              alt="Muebles Comerciales"
            />
            <p
              class="absolute inset-0 flex items-center justify-center text-[14px] font-medium leading-tight font-lobster text-white pointer-events-none"
            >
              Muebles<br />Comerciales
            </p>
          </div>
        </a>
      </div>

      <!-- Mobile Menu Icon -->
      <button
        id="mobile-menu-button"
        class="md:hidden p-2"
        aria-label="Toggle menu"
      >
        <svg
          width="28"
          height="28"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path d="M4 7h20M4 14h20M4 21h20"></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Menu Dropdown (Navigation Only) -->
  <div id="mobile-menu" class="hidden md:hidden mt-4 px-4">
    <ul
      class="flex flex-col gap-4 text-lg font-medium font-lobster bg-white rounded-lg shadow-lg p-4 text-center"
    >
      <li>
        <a
          href="/#quienes-somos"
          class="block py-2 hover:text-white hover:bg-primary rounded-lg transition"
          >Quienes Somos</a
        >
      </li>
      <li>
        <a
          href="/#mision"
          class="block py-2 hover:text-white hover:bg-primary rounded-lg transition"
          >Misión</a
        >
      </li>
      <li>
        <a
          href="/#vision"
          class="block py-2 hover:text-white hover:bg-primary rounded-lg transition"
          >Visión</a
        >
      </li>
      <li>
        <a
          href="/#valores"
          class="block py-2 hover:text-white hover:bg-primary rounded-lg transition"
          >Valores</a
        >
      </li>
      <li>
        <a
          href="/#contacto"
          class="block py-2 hover:text-white hover:bg-primary rounded-lg transition"
          >Contacto</a
        >
      </li>
    </ul>
  </div>
</nav>

<script>
  const menuButton = document.getElementById("mobile-menu-button");
  const mobileMenu = document.getElementById("mobile-menu");

  if (menuButton && mobileMenu) {
    menuButton.addEventListener("click", () => {
      mobileMenu.classList.toggle("hidden");
    });

    // Close menu when clicking outside
    document.addEventListener("click", (e) => {
      if (
        !menuButton.contains(e.target as Node) &&
        !mobileMenu.contains(e.target as Node)
      ) {
        mobileMenu.classList.add("hidden");
      }
    });
  }
</script>
